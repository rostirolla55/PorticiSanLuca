<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Caricamento Sito...</title>
    
    <script>
        function getDestinationPageName(langCode) {
            return `index-${langCode}.html`;
        }
        
        document.addEventListener('DOMContentLoaded', function () {
            const savedLang = localStorage.getItem('userLanguage');
            const userLang = navigator.language || navigator.userLanguage;
            const browserLangCode = userLang.toLowerCase().split('-')[0];

            const supportedLangs = ['it', 'en', 'es', 'fr'];
            let finalLangCode = 'it';

            if (savedLang && supportedLangs.includes(savedLang)) {
                 finalLangCode = savedLang;
            } else if (supportedLangs.includes(browserLangCode)) {
                 finalLangCode = browserLangCode;
            }

            const destinationPage = getDestinationPageName(finalLangCode);
            window.location.replace(destinationPage);
        });
    </script>
</head>
<body>
    <p>Reindirizzamento alla pagina corretta in base alla lingua del browser...</p>
</body>
</html>